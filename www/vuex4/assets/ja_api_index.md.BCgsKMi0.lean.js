import{_ as i,c as a,$ as e,o as t}from"./chunks/framework.BVElzs7h.js";const c=JSON.parse('{"title":"API リファレンス","description":"","frontmatter":{"sidebar":"auto"},"headers":[],"relativePath":"ja/api/index.md","filePath":"ja/api/index.md"}'),n={name:"ja/api/index.md"};function l(p,s,h,k,r,d){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="api-リファレンス" tabindex="-1">API リファレンス <a class="header-anchor" href="#api-リファレンス" aria-label="Permalink to &quot;API リファレンス&quot;">​</a></h1><h2 id="store" tabindex="-1">Store <a class="header-anchor" href="#store" aria-label="Permalink to &quot;Store&quot;">​</a></h2><h3 id="createstore" tabindex="-1">createStore <a class="header-anchor" href="#createstore" aria-label="Permalink to &quot;createStore&quot;">​</a></h3><ul><li><p><code>createStore&lt;S&gt;(options: StoreOptions&lt;S&gt;): Store&lt;S&gt;</code></p><p>新しいストアを作成します。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vuex&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options })</span></span></code></pre></div></li></ul><h2 id="store-コンストラクタオプション" tabindex="-1">Store コンストラクタオプション <a class="header-anchor" href="#store-コンストラクタオプション" aria-label="Permalink to &quot;Store コンストラクタオプション&quot;">​</a></h2><h3 id="state" tabindex="-1">state <a class="header-anchor" href="#state" aria-label="Permalink to &quot;state&quot;">​</a></h3><ul><li><p>型: <code>Object | Function</code> ストアのための ルートステートオブジェクトです。 <a href="./../guide/state.html">詳細</a></p><p>オブジェクトを返す関数を渡す場合、返されたオブジェクトはルートステートとして使用されます。これは特にモジュールの再利用のためにステートオブジェクトを再利用する場合に便利です。<a href="./../guide/modules.html#モジュールの再利用">詳細</a></p></li></ul><h3 id="mutations" tabindex="-1">mutations <a class="header-anchor" href="#mutations" aria-label="Permalink to &quot;mutations&quot;">​</a></h3><ul><li><p>型: <code>{ [type: string]: Function }</code></p><p>ストアにミューテーションを登録します。ハンドラ関数は第 1 引数に <code>state</code> を常に受け取り(モジュール内で定義されていれば、モジュールのローカルステートを受け取り)、指定されていれば第 2 引数に <code>payload</code> を受け取ります。</p><p><a href="./../guide/mutations.html">詳細</a></p></li></ul><h3 id="actions" tabindex="-1">actions <a class="header-anchor" href="#actions" aria-label="Permalink to &quot;actions&quot;">​</a></h3><ul><li><p>型: <code>{ [type: string]: Function }</code></p><p>ストアにアクションを登録します。ハンドラ関数は次のプロパティを持つ <code>context</code> オブジェクトを受け取ります。:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.state\` と同じか、モジュール内にあればローカルステート</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rootState,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.state\` と同じ。ただしモジュール内に限る</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  commit,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.commit\` と同じ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  dispatch,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.dispatch\` と同じ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getters,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.getters\` と同じか、モジュール内にあればローカルゲッター</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rootGetters </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// \`store.getters\` と同じ。ただしモジュール内に限る</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>そして、第 2 引数の <code>payload</code> があれば、それを受け取ります。</p><p><a href="./../guide/actions.html">詳細</a></p></li></ul><h3 id="getters" tabindex="-1">getters <a class="header-anchor" href="#getters" aria-label="Permalink to &quot;getters&quot;">​</a></h3><ul><li><p>型: <code>{ [key: string]: Function }</code></p><p>ストアにゲッターを登録します. ゲッター関数は次の引数を受け取ります:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>state,     // モジュール内で定義されていればモジュールのローカルステート</span></span>
<span class="line"><span>getters    // store.getters と同じ</span></span></code></pre></div><p>モジュールで定義されたときの仕様</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>state,       // モジュールで定義された場合、モジュールのローカルステート</span></span>
<span class="line"><span>getters,     // 現在のモジュールのモジュールのローカルゲッター</span></span>
<span class="line"><span>rootState,   // グローバルステート</span></span>
<span class="line"><span>rootGetters  // 全てのゲッター</span></span></code></pre></div><p>登録されたゲッターは <code>store.getters</code> 上に公開されます。</p><p><a href="./../guide/getters.html">詳細</a></p></li></ul><h3 id="modules" tabindex="-1">modules <a class="header-anchor" href="#modules" aria-label="Permalink to &quot;modules&quot;">​</a></h3><ul><li><p>型: <code>Object</code></p><p>サブモジュールを含む次のような形式のオブジェクトはストアにマージされます。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    state,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    namespaced</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mutations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    actions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    getters</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modules</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>各モジュールは、ルートオプションに似た <code>state</code> と <code>mutations</code> を含むことができます。モジュールの状態は、モジュールのキーを使って、ストアのルートステートに結合されます。モジュールのミューテーションとゲッターは、第 1 引数としてルートステートの代わりに、モジュールのローカルステートだけを受け取り、モジュールのアクションの <code>context.state</code> もローカルステートを指すようになります。</p><p><a href="./../guide/modules.html">詳細</a></p></li></ul><h3 id="plugins" tabindex="-1">plugins <a class="header-anchor" href="#plugins" aria-label="Permalink to &quot;plugins&quot;">​</a></h3><ul><li><p>型: <code>Array&lt;Function&gt;</code></p><p>プラグイン関数の配列は、ストアに適用されます。このプラグインは、ストアだけを引数として受け取り、外部への永続化、ロギング、デバッギングのために、ミューテーションを監視するか、または、 websocket や observable のような外から渡されるデータのためにミューテーションをディスパッチします。</p><p><a href="./../guide/plugins.html">詳細</a></p></li></ul><h3 id="strict" tabindex="-1">strict <a class="header-anchor" href="#strict" aria-label="Permalink to &quot;strict&quot;">​</a></h3><ul><li><p>型: <code>boolean</code></p></li><li><p>デフォルト: <code>false</code></p><p>Vuex ストアを厳格モードにします。厳格モードでは、ミューテーションハンドラ以外で、 Vuex の状態の変更を行うと、エラーが投げられます。</p><p><a href="./../guide/strict.html">詳細</a></p></li></ul><h3 id="devtools" tabindex="-1">devtools <a class="header-anchor" href="#devtools" aria-label="Permalink to &quot;devtools&quot;">​</a></h3><ul><li><p>型: <code>boolean</code></p><p>特定の Vuex インスタンスに対して開発ツールをオン、またはオフにします。インスタンスに false を渡すと、開発ツールのプラグインを購読しないように Vuex ストアに伝えます。1 ページに複数のストアがある時に便利です。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  devtools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h2 id="store-インスタンスプロパティ" tabindex="-1">Store インスタンスプロパティ <a class="header-anchor" href="#store-インスタンスプロパティ" aria-label="Permalink to &quot;Store インスタンスプロパティ&quot;">​</a></h2><h3 id="state-1" tabindex="-1">state <a class="header-anchor" href="#state-1" aria-label="Permalink to &quot;state&quot;">​</a></h3><ul><li><p>型: <code>Object</code></p><p>ルートステート、読み取り専用です。</p></li></ul><h3 id="getters-1" tabindex="-1">getters <a class="header-anchor" href="#getters-1" aria-label="Permalink to &quot;getters&quot;">​</a></h3><ul><li><p>型: <code>Object</code></p><p>登録されているゲッターを公開します。読み取り専用です。</p></li></ul><h2 id="store-インスタンスメソッド" tabindex="-1">Store インスタンスメソッド <a class="header-anchor" href="#store-インスタンスメソッド" aria-label="Permalink to &quot;Store インスタンスメソッド&quot;">​</a></h2><h3 id="commit" tabindex="-1">commit <a class="header-anchor" href="#commit" aria-label="Permalink to &quot;commit&quot;">​</a></h3><ul><li><code>commit(type: string, payload?: any, options?: Object)</code></li><li><code>commit(mutation: Object, options?: Object)</code></li></ul><p>ミューテーションをコミットします。<code>options</code> は<a href="./../guide/modules.html#名前空間">名前空間付きモジュール</a>で root なミューテーションにコミットできる <code>root: true</code> を持つことできます。<a href="./../guide/mutations.html">詳細</a></p><h3 id="dispatch" tabindex="-1">dispatch <a class="header-anchor" href="#dispatch" aria-label="Permalink to &quot;dispatch&quot;">​</a></h3><ul><li><code>dispatch(type: string, payload?: any, options?: Object): Promise&lt;any&gt;</code></li><li><code>dispatch(action: Object, options?: Object): Promise&lt;any&gt;</code></li></ul><p>アクションをディスパッチします。<code>options</code> は<a href="./../guide/modules.html#名前空間">名前空間付きモジュール</a>で root なアクションにディスパッチできる <code>root: true</code> を持つことできます。 すべてのトリガーされたアクションハンドラを解決するPromiseを返します。<a href="./../guide/actions.html">詳細</a></p><h3 id="replacestate" tabindex="-1">replaceState <a class="header-anchor" href="#replacestate" aria-label="Permalink to &quot;replaceState&quot;">​</a></h3><ul><li><code>replaceState(state: Object)</code></li></ul><p>ストアのルートステートを置き換えます。これは、ステートのハイドレーションやタイムトラベルのためだけに利用すべきです。</p><h3 id="watch" tabindex="-1">watch <a class="header-anchor" href="#watch" aria-label="Permalink to &quot;watch&quot;">​</a></h3><ul><li><code>watch(fn: Function, callback: Function, options?: Object): Function</code></li></ul><p><code>fn</code>が返す値をリアクティブに監視し、値が変わった時にコールバックを呼びます。<code>fn</code>は最初の引数としてストアのステートを、2番目の引数としてゲッターを受け取ります。 <a href="https://jp.vuejs.org/v2/api/#watch" target="_blank" rel="noreferrer">Vue の<code>vm.$watch</code>メソッド</a>と同じオプションをオプションのオブジェクトとして受け付けます。</p><p>監視を止める場合は、返された unwatch 関数を呼び出します。</p><h3 id="subscribe" tabindex="-1">subscribe <a class="header-anchor" href="#subscribe" aria-label="Permalink to &quot;subscribe&quot;">​</a></h3><ul><li><code>subscribe(handler: Function, options?: Object): Function</code></li></ul><p>ストアへのミューテーションを購読します。<code>handler</code> は、全てのミューテーションの後に呼ばれ、引数として、ミューテーション ディスクリプタとミューテーション後の状態を受け取ります。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unsubscribe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mutation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mutation.type)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mutation.payload)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>デフォルトでは、新しい <code>handler</code> はチェーンの最後に登録されます。つまり、先に追加された他の <code>handler</code> が呼び出された後に実行されます。<code>prepend: true</code> を <code>options</code> に設定することで、<code>handler</code> をチェーンの最初に登録することができます。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(handler, { prepend: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>購読を停止するには、返された unsubscribe 関数呼び出します。</p><p>プラグインの中でもっともよく利用されます。<a href="./../guide/plugins.html">詳細</a></p><h3 id="subscribeaction" tabindex="-1">subscribeAction <a class="header-anchor" href="#subscribeaction" aria-label="Permalink to &quot;subscribeAction&quot;">​</a></h3><ul><li><code>subscribeAction(handler: Function, options?: Object): Function</code></li></ul><p>スストアアクションを購読します。<code>handler</code> はディスパッチされたアクションごとに呼び出され、アクション記述子と現在のストア状態を引数として受け取ります:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unsubscribe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action.type)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(action.payload)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>デフォルトでは、新しい <code>handler</code> はチェーンの最後に登録されます。つまり、先に追加された他の <code>handler</code> が呼び出された後に実行されます。<code>prepend: true</code> を <code>options</code> に設定することで、<code>handler</code> をチェーンの最初に登録することができます。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(handler, { prepend: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>購読を停止するには、返された unsubscribe 関数を呼び出します。</p><p><code>subscribeAction</code> は購読ハンドラがアクションディスパッチの<em>前 (before)</em>、または<em>後 (after)</em> に呼びだすべきかどうか(デフォルトの動作は、<em>before</em> です)指定することもできます。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  before</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`before action \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">action</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  after</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`after action \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">action</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><code>subscribeAction</code> は <code>error</code> ハンドラを指定することもできます。このハンドラは、アクションディスパッチの中で投げられたエラーをキャッチすることができます。<code>error</code> ハンドラは投げられた <code>error</code> オブジェクトを第 3 引数として受け取ります。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribeAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`error action \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">action</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><code>subscribeAction</code> メソッドはプラグインで最も一般的に使用されます。<a href="./../guide/plugins.html">詳細</a></p><h3 id="registermodule" tabindex="-1">registerModule <a class="header-anchor" href="#registermodule" aria-label="Permalink to &quot;registerModule&quot;">​</a></h3><ul><li><p><code>registerModule(path: string | Array&lt;string&gt;, module: Module, options?: Object)</code></p><p>動的なモジュールを登録します。<a href="./../guide/modules.html#dynamic-module-registration">詳細</a></p></li></ul><p><code>options</code> は前の状態を保存する <code>preserveState: true</code> を持つことができます。サーバサイドレンダリングに役立ちます。</p><h3 id="unregistermodule" tabindex="-1">unregisterModule <a class="header-anchor" href="#unregistermodule" aria-label="Permalink to &quot;unregisterModule&quot;">​</a></h3><ul><li><code>unregisterModule(path: string | Array&lt;string&gt;)</code></li></ul><p>動的なモジュールを解除します。<a href="./../guide/modules.html#dynamic-module-registration">詳細</a></p><h3 id="hasmodule" tabindex="-1">hasModule <a class="header-anchor" href="#hasmodule" aria-label="Permalink to &quot;hasModule&quot;">​</a></h3><ul><li><p><code>hasModule(path: string | Array&lt;string&gt;): boolean</code></p><p>動的なモジュールがすでに登録されているかどうかを確認します。<a href="./../guide/modules.html#dynamic-module-registration">詳細</a></p></li></ul><h3 id="hotupdate" tabindex="-1">hotUpdate <a class="header-anchor" href="#hotupdate" aria-label="Permalink to &quot;hotUpdate&quot;">​</a></h3><ul><li><code>hotUpdate(newOptions: Object)</code></li></ul><p>新しいアクションとミューテーションをホットスワップします。<a href="./../guide/hot-reload.html">詳細</a></p><h2 id="コンポーネントをバインドするヘルパー" tabindex="-1">コンポーネントをバインドするヘルパー <a class="header-anchor" href="#コンポーネントをバインドするヘルパー" aria-label="Permalink to &quot;コンポーネントをバインドするヘルパー&quot;">​</a></h2><h3 id="mapstate" tabindex="-1">mapState <a class="header-anchor" href="#mapstate" aria-label="Permalink to &quot;mapState&quot;">​</a></h3><ul><li><code>mapState(namespace?: string, map: Array&lt;string&gt; | Object&lt;string | function&gt;): Object</code></li></ul><p>ストアのサブツリーを返すコンポーネントの computed オプションを作成します。<a href="./../guide/state.html#the-mapstate-helper">詳細</a></p><p>第 1 引数は、オプションで名前空間文字列にすることができます。<a href="./../guide/modules.html#binding-helpers-with-namespace">詳細</a></p><p>第 2 引数のオブジェクトのメンバーには関数 <code>function(state: any)</code> を指定できます。</p><h3 id="mapgetters" tabindex="-1">mapGetters <a class="header-anchor" href="#mapgetters" aria-label="Permalink to &quot;mapGetters&quot;">​</a></h3><ul><li><code>mapGetters(namespace?: string, map: Array&lt;string&gt; | Object&lt;string&gt;): Object</code></li></ul><p>ゲッターの評価後の値を返すコンポーネントの computed オプションを作成します。<a href="./../guide/getters.html#the-mapgetters-helper">詳細</a></p><p>第 1 引数は、オプションで名前空間文字列にすることができます。<a href="./../guide/modules.html#binding-helpers-with-namespace">詳細</a></p><h3 id="mapactions" tabindex="-1">mapActions <a class="header-anchor" href="#mapactions" aria-label="Permalink to &quot;mapActions&quot;">​</a></h3><ul><li><code>mapActions(namespace?: string, map: Array&lt;string&gt; | Object&lt;string | function&gt;): Object</code></li></ul><p>アクションをディスパッチするコンポーネントの methods オプションを作成します。<a href="./../guide/actions.html#dispatching-actions-in-components">詳細</a></p><p>第 1 引数は、オプションで名前空間文字列にすることができます。<a href="./../guide/modules.html#binding-helpers-with-namespace">詳細</a></p><p>第 2 引数のオブジェクトのメンバーには関数 <code>function(dispatch: function, ...args: any[])</code> を指定できます。</p><h3 id="mapmutations" tabindex="-1">mapMutations <a class="header-anchor" href="#mapmutations" aria-label="Permalink to &quot;mapMutations&quot;">​</a></h3><ul><li><code>mapMutations(namespace?: string, map: Array&lt;string&gt; | Object&lt;string | function&gt;): Object</code></li></ul><p>ミューテーションをコミットするコンポーネントの methods オプションを作成します。<a href="./../guide/mutations.html#commiting-mutations-in-components">詳細</a></p><p>第 1 引数は、オプションで名前空間文字列にすることができます。<a href="./../guide/modules.html#binding-helpers-with-namespace">詳細</a></p><p>第 2 引数のオブジェクトのメンバーには関数 <code>function(commit: function, ...args: any[])</code> を指定できます。</p><h3 id="createnamespacedhelpers" tabindex="-1">createNamespacedHelpers <a class="header-anchor" href="#createnamespacedhelpers" aria-label="Permalink to &quot;createNamespacedHelpers&quot;">​</a></h3><ul><li><code>createNamespacedHelpers(namespace: string): Object</code></li></ul><p>名前空間付けられたコンポーネントバインディングのヘルパーを作成します。返されるオブジェクトは指定された名前空間にバインドされた <code>mapState</code>、<code>mapGetters</code>、<code>mapActions</code> そして <code>mapMutations</code> が含まれます。<a href="./../guide/modules.html#binding-helpers-with-namespace">詳細はこちら</a></p><h2 id="composable-関数" tabindex="-1">Composable 関数 <a class="header-anchor" href="#composable-関数" aria-label="Permalink to &quot;Composable 関数&quot;">​</a></h2><h3 id="usestore" tabindex="-1">useStore <a class="header-anchor" href="#usestore" aria-label="Permalink to &quot;useStore&quot;">​</a></h3><ul><li><p><code>useStore&lt;S = any&gt;(injectKey?: InjectionKey&lt;Store&lt;S&gt;&gt; | string): Store&lt;S&gt;;</code></p><p><code>setup</code> フックの中で呼ばれた時に、Vue App インスタンスにインストールされたストアを取得します。Composition API を使用する時、このメソッドを呼ぶことでストアを取得することができます。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vuex&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>TypeScript ユーザーは、 <code>InjectionKey</code> を使って型付けされたストアを取得することができます。そのためには、ストアインスタンスを Vue App インスタンスにインストールする時、<code>InjectionKey</code> を定義してストアと一緒に渡す必要があります。</p><p>まず、Vue の <code>InjectionKey</code> インターフェースを使って、 <code>InjectionKey</code> を宣言します。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// store.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { InjectionKey } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createStore, Store } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vuex&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> State</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InjectionKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">State</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>次に、定義したキーを <code>app.use</code> メソッドの第2引数に渡します。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// main.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { store, key } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(store, key)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>最後に、<code>useStore</code> 関数にキーを渡すことで、型付けされたストアインスタンスを取得することができます。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vue component 内</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vuex&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { key } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./store&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    store.state.count </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// number として型付け</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul>`,97)]))}const E=i(n,[["render",l]]);export{c as __pageData,E as default};
